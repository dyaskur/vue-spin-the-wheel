(function(C,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(C=typeof globalThis<"u"?globalThis:C||self,o(C["vue-spin-the-wheel"]={},C.Vue))})(this,function(C,o){"use strict";function _t(e,t){const r=[];for(;e!=="";){let a=e.substr(0,t);if(e.charAt(t)!==""&&e.charAt(t)!==" "){const i=a.lastIndexOf(" ");i!==-1&&(a=a.substr(0,i))}e=e.replace(a,"").trim(),r.push(a)}return r}const pt={radius:250,textRadius:190,textLength:6,textDirection:"horizontal",lineHeight:20,borderWidth:0,borderColor:"transparent",btnText:"Spin",btnWidth:140,fontSize:34};function yt(e){const t=o.ref(),r=o.computed(()=>Object.assign(pt,e.canvas));function a(){const n=t.value;if(n.getContext){const{radius:s,textRadius:f,borderWidth:l,borderColor:u,fontSize:d}=r.value,v=Math.PI/(e.prizes.length/2),c=n.getContext("2d");c.clearRect(0,0,s*2,s*2),c.strokeStyle=u,c.lineWidth=l*2,c.font=`${d}px Arial`,e.prizes.forEach((y,p)=>{const _=p*v-Math.PI/2;c.fillStyle=y.bgColor,c.beginPath(),c.arc(s,s,s-l,_,_+v,!1),c.stroke(),c.arc(s,s,0,_+v,_,!0),c.fill(),c.save(),c.fillStyle=y.color,c.translate(s+Math.cos(_+v/2)*f,s+Math.sin(_+v/2)*f),i(c,_,v,y.name),c.restore()})}}function i(n,s,f,l){const{lineHeight:u,textLength:d,textDirection:v}=r.value,c=_t(l,d);c!==null&&(v==="vertical"?n.rotate(s+f/2+Math.PI):n.rotate(s+f/2+Math.PI/2),c.forEach((y,p)=>{let _=-n.measureText(y).width/2,T=(p+1)*u;v==="vertical"&&(_=0,T=(p+1)*u-c.length*u/2),n.fillText(y,_,T)}))}return o.onMounted(()=>{e.type==="canvas"&&a()}),o.onUpdated(()=>{e.type==="canvas"&&a()}),{wheelEl:t,canvasConfig:r,drawCanvas:a}}var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $t(){this.__data__=[],this.size=0}var bt=$t;function mt(e,t){return e===t||e!==e&&t!==t}var J=mt,Tt=J;function At(e,t){for(var r=e.length;r--;)if(Tt(e[r][0],t))return r;return-1}var B=At,St=B,Ct=Array.prototype,Ot=Ct.splice;function It(e){var t=this.__data__,r=St(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():Ot.call(t,r,1),--this.size,!0}var Pt=It,wt=B;function Et(e){var t=this.__data__,r=wt(t,e);return r<0?void 0:t[r][1]}var Mt=Et,xt=B;function Dt(e){return xt(this.__data__,e)>-1}var Rt=Dt,jt=B;function Lt(e,t){var r=this.__data__,a=jt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var zt=Lt,Gt=bt,Bt=Pt,Ft=Mt,Nt=Rt,Ht=zt;function P(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}P.prototype.clear=Gt,P.prototype.delete=Bt,P.prototype.get=Ft,P.prototype.has=Nt,P.prototype.set=Ht;var F=P,Kt=F;function Ut(){this.__data__=new Kt,this.size=0}var qt=Ut;function Wt(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kt=Wt;function Xt(e){return this.__data__.get(e)}var Yt=Xt;function Zt(e){return this.__data__.has(e)}var Jt=Zt,Qt=typeof G=="object"&&G&&G.Object===Object&&G,de=Qt,Vt=de,er=typeof self=="object"&&self&&self.Object===Object&&self,tr=Vt||er||Function("return this")(),S=tr,rr=S,ar=rr.Symbol,N=ar,he=N,ge=Object.prototype,nr=ge.hasOwnProperty,ir=ge.toString,R=he?he.toStringTag:void 0;function sr(e){var t=nr.call(e,R),r=e[R];try{e[R]=void 0;var a=!0}catch{}var i=ir.call(e);return a&&(t?e[R]=r:delete e[R]),i}var or=sr,fr=Object.prototype,cr=fr.toString;function ur(e){return cr.call(e)}var lr=ur,_e=N,vr=or,dr=lr,hr="[object Null]",gr="[object Undefined]",pe=_e?_e.toStringTag:void 0;function _r(e){return e==null?e===void 0?gr:hr:pe&&pe in Object(e)?vr(e):dr(e)}var j=_r;function pr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var L=pr,yr=j,$r=L,br="[object AsyncFunction]",mr="[object Function]",Tr="[object GeneratorFunction]",Ar="[object Proxy]";function Sr(e){if(!$r(e))return!1;var t=yr(e);return t==mr||t==Tr||t==br||t==Ar}var ye=Sr,Cr=S,Or=Cr["__core-js_shared__"],Ir=Or,Q=Ir,$e=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Pr(e){return!!$e&&$e in e}var wr=Pr,Er=Function.prototype,Mr=Er.toString;function xr(e){if(e!=null){try{return Mr.call(e)}catch{}try{return e+""}catch{}}return""}var be=xr,Dr=ye,Rr=wr,jr=L,Lr=be,zr=/[\\^$.*+?()[\]{}|]/g,Gr=/^\[object .+?Constructor\]$/,Br=Function.prototype,Fr=Object.prototype,Nr=Br.toString,Hr=Fr.hasOwnProperty,Kr=RegExp("^"+Nr.call(Hr).replace(zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ur(e){if(!jr(e)||Rr(e))return!1;var t=Dr(e)?Kr:Gr;return t.test(Lr(e))}var qr=Ur;function Wr(e,t){return e==null?void 0:e[t]}var kr=Wr,Xr=qr,Yr=kr;function Zr(e,t){var r=Yr(e,t);return Xr(r)?r:void 0}var w=Zr,Jr=w,Qr=S,Vr=Jr(Qr,"Map"),V=Vr,ea=w,ta=ea(Object,"create"),H=ta,me=H;function ra(){this.__data__=me?me(null):{},this.size=0}var aa=ra;function na(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ia=na,sa=H,oa="__lodash_hash_undefined__",fa=Object.prototype,ca=fa.hasOwnProperty;function ua(e){var t=this.__data__;if(sa){var r=t[e];return r===oa?void 0:r}return ca.call(t,e)?t[e]:void 0}var la=ua,va=H,da=Object.prototype,ha=da.hasOwnProperty;function ga(e){var t=this.__data__;return va?t[e]!==void 0:ha.call(t,e)}var _a=ga,pa=H,ya="__lodash_hash_undefined__";function $a(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pa&&t===void 0?ya:t,this}var ba=$a,ma=aa,Ta=ia,Aa=la,Sa=_a,Ca=ba;function E(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}E.prototype.clear=ma,E.prototype.delete=Ta,E.prototype.get=Aa,E.prototype.has=Sa,E.prototype.set=Ca;var Oa=E,Te=Oa,Ia=F,Pa=V;function wa(){this.size=0,this.__data__={hash:new Te,map:new(Pa||Ia),string:new Te}}var Ea=wa;function Ma(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var xa=Ma,Da=xa;function Ra(e,t){var r=e.__data__;return Da(t)?r[typeof t=="string"?"string":"hash"]:r.map}var K=Ra,ja=K;function La(e){var t=ja(this,e).delete(e);return this.size-=t?1:0,t}var za=La,Ga=K;function Ba(e){return Ga(this,e).get(e)}var Fa=Ba,Na=K;function Ha(e){return Na(this,e).has(e)}var Ka=Ha,Ua=K;function qa(e,t){var r=Ua(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var Wa=qa,ka=Ea,Xa=za,Ya=Fa,Za=Ka,Ja=Wa;function M(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}M.prototype.clear=ka,M.prototype.delete=Xa,M.prototype.get=Ya,M.prototype.has=Za,M.prototype.set=Ja;var ee=M,Qa=F,Va=V,en=ee,tn=200;function rn(e,t){var r=this.__data__;if(r instanceof Qa){var a=r.__data__;if(!Va||a.length<tn-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new en(a)}return r.set(e,t),this.size=r.size,this}var an=rn,nn=F,sn=qt,on=kt,fn=Yt,cn=Jt,un=an;function x(e){var t=this.__data__=new nn(e);this.size=t.size}x.prototype.clear=sn,x.prototype.delete=on,x.prototype.get=fn,x.prototype.has=cn,x.prototype.set=un;var Ae=x,ln="__lodash_hash_undefined__";function vn(e){return this.__data__.set(e,ln),this}var dn=vn;function hn(e){return this.__data__.has(e)}var gn=hn,_n=ee,pn=dn,yn=gn;function U(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _n;++t<r;)this.add(e[t])}U.prototype.add=U.prototype.push=pn,U.prototype.has=yn;var $n=U;function bn(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var mn=bn;function Tn(e,t){return e.has(t)}var An=Tn,Sn=$n,Cn=mn,On=An,In=1,Pn=2;function wn(e,t,r,a,i,n){var s=r&In,f=e.length,l=t.length;if(f!=l&&!(s&&l>f))return!1;var u=n.get(e),d=n.get(t);if(u&&d)return u==t&&d==e;var v=-1,c=!0,y=r&Pn?new Sn:void 0;for(n.set(e,t),n.set(t,e);++v<f;){var p=e[v],_=t[v];if(a)var T=s?a(_,p,v,t,e,n):a(p,_,v,e,t,n);if(T!==void 0){if(T)continue;c=!1;break}if(y){if(!Cn(t,function(A,g){if(!On(y,g)&&(p===A||i(p,A,r,a,n)))return y.push(g)})){c=!1;break}}else if(!(p===_||i(p,_,r,a,n))){c=!1;break}}return n.delete(e),n.delete(t),c}var Se=wn,En=S,Mn=En.Uint8Array,xn=Mn;function Dn(e){var t=-1,r=Array(e.size);return e.forEach(function(a,i){r[++t]=[i,a]}),r}var Rn=Dn;function jn(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var Ln=jn,Ce=N,Oe=xn,zn=J,Gn=Se,Bn=Rn,Fn=Ln,Nn=1,Hn=2,Kn="[object Boolean]",Un="[object Date]",qn="[object Error]",Wn="[object Map]",kn="[object Number]",Xn="[object RegExp]",Yn="[object Set]",Zn="[object String]",Jn="[object Symbol]",Qn="[object ArrayBuffer]",Vn="[object DataView]",Ie=Ce?Ce.prototype:void 0,te=Ie?Ie.valueOf:void 0;function ei(e,t,r,a,i,n,s){switch(r){case Vn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Qn:return!(e.byteLength!=t.byteLength||!n(new Oe(e),new Oe(t)));case Kn:case Un:case kn:return zn(+e,+t);case qn:return e.name==t.name&&e.message==t.message;case Xn:case Zn:return e==t+"";case Wn:var f=Bn;case Yn:var l=a&Nn;if(f||(f=Fn),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;a|=Hn,s.set(e,t);var d=Gn(f(e),f(t),a,i,n,s);return s.delete(e),d;case Jn:if(te)return te.call(e)==te.call(t)}return!1}var ti=ei;function ri(e,t){for(var r=-1,a=t.length,i=e.length;++r<a;)e[i+r]=t[r];return e}var ai=ri,ni=Array.isArray,O=ni,ii=ai,si=O;function oi(e,t,r){var a=t(e);return si(e)?a:ii(a,r(e))}var fi=oi;function ci(e,t){for(var r=-1,a=e==null?0:e.length,i=0,n=[];++r<a;){var s=e[r];t(s,r,e)&&(n[i++]=s)}return n}var ui=ci;function li(){return[]}var vi=li,di=ui,hi=vi,gi=Object.prototype,_i=gi.propertyIsEnumerable,Pe=Object.getOwnPropertySymbols,pi=Pe?function(e){return e==null?[]:(e=Object(e),di(Pe(e),function(t){return _i.call(e,t)}))}:hi,yi=pi;function $i(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var bi=$i;function mi(e){return e!=null&&typeof e=="object"}var z=mi,Ti=j,Ai=z,Si="[object Arguments]";function Ci(e){return Ai(e)&&Ti(e)==Si}var Oi=Ci,we=Oi,Ii=z,Ee=Object.prototype,Pi=Ee.hasOwnProperty,wi=Ee.propertyIsEnumerable,Ei=we(function(){return arguments}())?we:function(e){return Ii(e)&&Pi.call(e,"callee")&&!wi.call(e,"callee")},Me=Ei,q={exports:{}};function Mi(){return!1}var xi=Mi;q.exports,function(e,t){var r=S,a=xi,i=t&&!t.nodeType&&t,n=i&&!0&&e&&!e.nodeType&&e,s=n&&n.exports===i,f=s?r.Buffer:void 0,l=f?f.isBuffer:void 0,u=l||a;e.exports=u}(q,q.exports);var xe=q.exports,Di=9007199254740991,Ri=/^(?:0|[1-9]\d*)$/;function ji(e,t){var r=typeof e;return t=t??Di,!!t&&(r=="number"||r!="symbol"&&Ri.test(e))&&e>-1&&e%1==0&&e<t}var re=ji,Li=9007199254740991;function zi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Li}var ae=zi,Gi=j,Bi=ae,Fi=z,Ni="[object Arguments]",Hi="[object Array]",Ki="[object Boolean]",Ui="[object Date]",qi="[object Error]",Wi="[object Function]",ki="[object Map]",Xi="[object Number]",Yi="[object Object]",Zi="[object RegExp]",Ji="[object Set]",Qi="[object String]",Vi="[object WeakMap]",es="[object ArrayBuffer]",ts="[object DataView]",rs="[object Float32Array]",as="[object Float64Array]",ns="[object Int8Array]",is="[object Int16Array]",ss="[object Int32Array]",os="[object Uint8Array]",fs="[object Uint8ClampedArray]",cs="[object Uint16Array]",us="[object Uint32Array]",h={};h[rs]=h[as]=h[ns]=h[is]=h[ss]=h[os]=h[fs]=h[cs]=h[us]=!0,h[Ni]=h[Hi]=h[es]=h[Ki]=h[ts]=h[Ui]=h[qi]=h[Wi]=h[ki]=h[Xi]=h[Yi]=h[Zi]=h[Ji]=h[Qi]=h[Vi]=!1;function ls(e){return Fi(e)&&Bi(e.length)&&!!h[Gi(e)]}var vs=ls;function ds(e){return function(t){return e(t)}}var hs=ds,W={exports:{}};W.exports,function(e,t){var r=de,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,n=i&&i.exports===a,s=n&&r.process,f=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=f}(W,W.exports);var gs=W.exports,_s=vs,ps=hs,De=gs,Re=De&&De.isTypedArray,ys=Re?ps(Re):_s,je=ys,$s=bi,bs=Me,ms=O,Ts=xe,As=re,Ss=je,Cs=Object.prototype,Os=Cs.hasOwnProperty;function Is(e,t){var r=ms(e),a=!r&&bs(e),i=!r&&!a&&Ts(e),n=!r&&!a&&!i&&Ss(e),s=r||a||i||n,f=s?$s(e.length,String):[],l=f.length;for(var u in e)(t||Os.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||n&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||As(u,l)))&&f.push(u);return f}var Ps=Is,ws=Object.prototype;function Es(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ws;return e===r}var Ms=Es;function xs(e,t){return function(r){return e(t(r))}}var Ds=xs,Rs=Ds,js=Rs(Object.keys,Object),Ls=js,zs=Ms,Gs=Ls,Bs=Object.prototype,Fs=Bs.hasOwnProperty;function Ns(e){if(!zs(e))return Gs(e);var t=[];for(var r in Object(e))Fs.call(e,r)&&r!="constructor"&&t.push(r);return t}var Hs=Ns,Ks=ye,Us=ae;function qs(e){return e!=null&&Us(e.length)&&!Ks(e)}var Le=qs,Ws=Ps,ks=Hs,Xs=Le;function Ys(e){return Xs(e)?Ws(e):ks(e)}var ze=Ys,Zs=fi,Js=yi,Qs=ze;function Vs(e){return Zs(e,Qs,Js)}var eo=Vs,Ge=eo,to=1,ro=Object.prototype,ao=ro.hasOwnProperty;function no(e,t,r,a,i,n){var s=r&to,f=Ge(e),l=f.length,u=Ge(t),d=u.length;if(l!=d&&!s)return!1;for(var v=l;v--;){var c=f[v];if(!(s?c in t:ao.call(t,c)))return!1}var y=n.get(e),p=n.get(t);if(y&&p)return y==t&&p==e;var _=!0;n.set(e,t),n.set(t,e);for(var T=s;++v<l;){c=f[v];var A=e[c],g=t[c];if(a)var $=s?a(g,A,c,t,e,n):a(A,g,c,e,t,n);if(!($===void 0?A===g||i(A,g,r,a,n):$)){_=!1;break}T||(T=c=="constructor")}if(_&&!T){var m=e.constructor,b=t.constructor;m!=b&&"constructor"in e&&"constructor"in t&&!(typeof m=="function"&&m instanceof m&&typeof b=="function"&&b instanceof b)&&(_=!1)}return n.delete(e),n.delete(t),_}var io=no,so=w,oo=S,fo=so(oo,"DataView"),co=fo,uo=w,lo=S,vo=uo(lo,"Promise"),ho=vo,go=w,_o=S,po=go(_o,"Set"),yo=po,$o=w,bo=S,mo=$o(bo,"WeakMap"),To=mo,ne=co,ie=V,se=ho,oe=yo,fe=To,Be=j,D=be,Fe="[object Map]",Ao="[object Object]",Ne="[object Promise]",He="[object Set]",Ke="[object WeakMap]",Ue="[object DataView]",So=D(ne),Co=D(ie),Oo=D(se),Io=D(oe),Po=D(fe),I=Be;(ne&&I(new ne(new ArrayBuffer(1)))!=Ue||ie&&I(new ie)!=Fe||se&&I(se.resolve())!=Ne||oe&&I(new oe)!=He||fe&&I(new fe)!=Ke)&&(I=function(e){var t=Be(e),r=t==Ao?e.constructor:void 0,a=r?D(r):"";if(a)switch(a){case So:return Ue;case Co:return Fe;case Oo:return Ne;case Io:return He;case Po:return Ke}return t});var wo=I,ce=Ae,Eo=Se,Mo=ti,xo=io,qe=wo,We=O,ke=xe,Do=je,Ro=1,Xe="[object Arguments]",Ye="[object Array]",k="[object Object]",jo=Object.prototype,Ze=jo.hasOwnProperty;function Lo(e,t,r,a,i,n){var s=We(e),f=We(t),l=s?Ye:qe(e),u=f?Ye:qe(t);l=l==Xe?k:l,u=u==Xe?k:u;var d=l==k,v=u==k,c=l==u;if(c&&ke(e)){if(!ke(t))return!1;s=!0,d=!1}if(c&&!d)return n||(n=new ce),s||Do(e)?Eo(e,t,r,a,i,n):Mo(e,t,l,r,a,i,n);if(!(r&Ro)){var y=d&&Ze.call(e,"__wrapped__"),p=v&&Ze.call(t,"__wrapped__");if(y||p){var _=y?e.value():e,T=p?t.value():t;return n||(n=new ce),i(_,T,r,a,n)}}return c?(n||(n=new ce),xo(e,t,r,a,i,n)):!1}var zo=Lo,Go=zo,Je=z;function Qe(e,t,r,a,i){return e===t?!0:e==null||t==null||!Je(e)&&!Je(t)?e!==e&&t!==t:Go(e,t,r,a,Qe,i)}var Ve=Qe,Bo=Ae,Fo=Ve,No=1,Ho=2;function Ko(e,t,r,a){var i=r.length,n=i,s=!a;if(e==null)return!n;for(e=Object(e);i--;){var f=r[i];if(s&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++i<n;){f=r[i];var l=f[0],u=e[l],d=f[1];if(s&&f[2]){if(u===void 0&&!(l in e))return!1}else{var v=new Bo;if(a)var c=a(u,d,l,e,t,v);if(!(c===void 0?Fo(d,u,No|Ho,a,v):c))return!1}}return!0}var Uo=Ko,qo=L;function Wo(e){return e===e&&!qo(e)}var et=Wo,ko=et,Xo=ze;function Yo(e){for(var t=Xo(e),r=t.length;r--;){var a=t[r],i=e[a];t[r]=[a,i,ko(i)]}return t}var Zo=Yo;function Jo(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tt=Jo,Qo=Uo,Vo=Zo,ef=tt;function tf(e){var t=Vo(e);return t.length==1&&t[0][2]?ef(t[0][0],t[0][1]):function(r){return r===e||Qo(r,e,t)}}var rf=tf,af=j,nf=z,sf="[object Symbol]";function of(e){return typeof e=="symbol"||nf(e)&&af(e)==sf}var X=of,ff=O,cf=X,uf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lf=/^\w*$/;function vf(e,t){if(ff(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||cf(e)?!0:lf.test(e)||!uf.test(e)||t!=null&&e in Object(t)}var ue=vf,rt=ee,df="Expected a function";function le(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(df);var r=function(){var a=arguments,i=t?t.apply(this,a):a[0],n=r.cache;if(n.has(i))return n.get(i);var s=e.apply(this,a);return r.cache=n.set(i,s)||n,s};return r.cache=new(le.Cache||rt),r}le.Cache=rt;var hf=le,gf=hf,_f=500;function pf(e){var t=gf(e,function(a){return r.size===_f&&r.clear(),a}),r=t.cache;return t}var yf=pf,$f=yf,bf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mf=/\\(\\)?/g,Tf=$f(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bf,function(r,a,i,n){t.push(i?n.replace(mf,"$1"):a||r)}),t}),Af=Tf;function Sf(e,t){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=t(e[r],r,e);return i}var Cf=Sf,at=N,Of=Cf,If=O,Pf=X,wf=1/0,nt=at?at.prototype:void 0,it=nt?nt.toString:void 0;function st(e){if(typeof e=="string")return e;if(If(e))return Of(e,st)+"";if(Pf(e))return it?it.call(e):"";var t=e+"";return t=="0"&&1/e==-wf?"-0":t}var Ef=st,Mf=Ef;function xf(e){return e==null?"":Mf(e)}var Df=xf,Rf=O,jf=ue,Lf=Af,zf=Df;function Gf(e,t){return Rf(e)?e:jf(e,t)?[e]:Lf(zf(e))}var ot=Gf,Bf=X,Ff=1/0;function Nf(e){if(typeof e=="string"||Bf(e))return e;var t=e+"";return t=="0"&&1/e==-Ff?"-0":t}var Y=Nf,Hf=ot,Kf=Y;function Uf(e,t){t=Hf(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[Kf(t[r++])];return r&&r==a?e:void 0}var ft=Uf,qf=ft;function Wf(e,t,r){var a=e==null?void 0:qf(e,t);return a===void 0?r:a}var kf=Wf;function Xf(e,t){return e!=null&&t in Object(e)}var Yf=Xf,Zf=ot,Jf=Me,Qf=O,Vf=re,ec=ae,tc=Y;function rc(e,t,r){t=Zf(t,e);for(var a=-1,i=t.length,n=!1;++a<i;){var s=tc(t[a]);if(!(n=e!=null&&r(e,s)))break;e=e[s]}return n||++a!=i?n:(i=e==null?0:e.length,!!i&&ec(i)&&Vf(s,i)&&(Qf(e)||Jf(e)))}var ac=rc,nc=Yf,ic=ac;function sc(e,t){return e!=null&&ic(e,t,nc)}var oc=sc,fc=Ve,cc=kf,uc=oc,lc=ue,vc=et,dc=tt,hc=Y,gc=1,_c=2;function pc(e,t){return lc(e)&&vc(t)?dc(hc(e),t):function(r){var a=cc(r,e);return a===void 0&&a===t?uc(r,e):fc(t,a,gc|_c)}}var yc=pc;function $c(e){return e}var bc=$c;function mc(e){return function(t){return t==null?void 0:t[e]}}var Tc=mc,Ac=ft;function Sc(e){return function(t){return Ac(t,e)}}var Cc=Sc,Oc=Tc,Ic=Cc,Pc=ue,wc=Y;function Ec(e){return Pc(e)?Oc(wc(e)):Ic(e)}var Mc=Ec,xc=rf,Dc=yc,Rc=bc,jc=O,Lc=Mc;function zc(e){return typeof e=="function"?e:e==null?Rc:typeof e=="object"?jc(e)?Dc(e[0],e[1]):xc(e):Lc(e)}var Gc=zc;function Bc(e,t){for(var r,a=-1,i=e.length;++a<i;){var n=t(e[a]);n!==void 0&&(r=r===void 0?n:r+n)}return r}var Fc=Bc,Nc=Gc,Hc=Fc;function Kc(e,t){return e&&e.length?Hc(e,Nc(t)):0}var Uc=Kc;const qc=ve(Uc);var Wc=Math.floor,kc=Math.random;function Xc(e,t){return e+Wc(kc()*(t-e+1))}var Yc=Xc,Zc=J,Jc=Le,Qc=re,Vc=L;function eu(e,t,r){if(!Vc(r))return!1;var a=typeof t;return(a=="number"?Jc(r)&&Qc(t,r.length):a=="string"&&t in r)?Zc(r[t],e):!1}var tu=eu,ru=/\s/;function au(e){for(var t=e.length;t--&&ru.test(e.charAt(t)););return t}var nu=au,iu=nu,su=/^\s+/;function ou(e){return e&&e.slice(0,iu(e)+1).replace(su,"")}var fu=ou,cu=fu,ct=L,uu=X,ut=NaN,lu=/^[-+]0x[0-9a-f]+$/i,vu=/^0b[01]+$/i,du=/^0o[0-7]+$/i,hu=parseInt;function gu(e){if(typeof e=="number")return e;if(uu(e))return ut;if(ct(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ct(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=cu(e);var r=vu.test(e);return r||du.test(e)?hu(e.slice(2),r?2:8):lu.test(e)?ut:+e}var _u=gu,pu=_u,lt=1/0,yu=17976931348623157e292;function $u(e){if(!e)return e===0?e:0;if(e=pu(e),e===lt||e===-lt){var t=e<0?-1:1;return t*yu}return e===e?e:0}var bu=$u,mu=Yc,Tu=tu,vt=bu,Au=parseFloat,Su=Math.min,Cu=Math.random;function Ou(e,t,r){if(r&&typeof r!="boolean"&&Tu(e,t,r)&&(t=r=void 0),r===void 0&&(typeof t=="boolean"?(r=t,t=void 0):typeof e=="boolean"&&(r=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=vt(e),t===void 0?(t=e,e=0):t=vt(t)),e>t){var a=e;e=t,t=a}if(r||e%1||t%1){var i=Cu();return Su(e+i*(t-e+Au("1e-"+((i+"").length-1))),t)}return mu(e,t)}var Iu=Ou;const Pu=ve(Iu);function wu(e,t){const r=o.ref(!1),a=o.ref(0),i=o.ref(),n=o.computed(()=>e.useWeight?100:qc(e.prizes,g=>g.probability||0)),s=o.computed(()=>{if(e.useWeight)return 0;const g=[...e.prizes].sort((b,Z)=>{const ht=String(b.probability).split(".")[1],gt=String(Z.probability).split(".")[1],Ru=ht?ht.length:0;return(gt?gt.length:0)-Ru}),$=String(g[0].probability).split(".")[1],m=$?$.length:0;return[1,10,100,1e3,1e4][m>4?4:m]}),f=o.computed(()=>{const g=[];return e.prizes.forEach($=>{const m=e.useWeight?$.weight||0:($.probability||0)*s.value,b=new Array(m).fill($.id);g.push(...b)}),g}),l=o.computed(()=>r.value?e.duration/1e3:0),u=o.computed(()=>({"-webkit-transform":`rotateZ(${a.value}deg)`,transform:`rotateZ(${a.value}deg)`,"-webkit-transition-duration":`${l.value}s`,"transition-duration":`${l.value}s`,"-webkit-transition-timing-function:":e.timingFun,"transition-timing-function":e.timingFun})),d=o.computed(()=>{let g=e.angleBase*360;return e.angleBase<0&&(g-=360),g}),v=o.computed(()=>!e.disabled&&!r.value&&n.value===100);o.watch(()=>e.prizeId,g=>{if(!r.value)return;let $=A(g);e.angleBase<0&&($-=360);const m=a.value;let b=e.angleBase*360+$;const Z=360*Math.floor((b-m)/360);e.angleBase>=0?b+=Math.abs(Z):b+=-360-Z,a.value=b}),c();function c(){if(n.value!==100)throw new Error("Prizes Is Error: Sum of probabilities is not 100!");return!0}function y(){if(v.value){if(e.verify){t("rotateStart",p);return}t("rotateStart"),p()}}function p(){r.value=!0;const g=e.prizeId||T();a.value=d.value+A(g)}function _(){r.value=!1,a.value%=360,t("rotateEnd",i.value)}function T(){const g=f.value.length;return f.value[Pu(0,g-1)]}function A(g){const $=360/e.prizes.length,m=e.prizes.findIndex(b=>b.id===g);return i.value=e.prizes[m],360-($*m+$/2)}return{rotateStyle:u,handleClick:y,onRotateEnd:_}}const Eu={class:"fw-container"},Mu=["width","height"],xu={class:"fw-btn"},dt=((e,t)=>{const r=e.__vccOpts||e;for(const[a,i]of t)r[a]=i;return r})(o.defineComponent({__name:"index",props:{type:{default:"canvas"},useWeight:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},verify:{type:Boolean,default:!1},canvas:{default:()=>({})},duration:{default:6e3},timingFun:{default:"cubic-bezier(0.36, 0.95, 0.64, 1)"},angleBase:{default:10},prizeId:{default:0},prizes:{default:()=>[]}},emits:["rotateStart","rotateEnd"],setup(e,{expose:t,emit:r}){const a=e,{wheelEl:i,canvasConfig:n}=yt(a),{handleClick:s,rotateStyle:f,onRotateEnd:l}=wu(a,r);return t({startRotate:()=>{s()}}),(u,d)=>(o.openBlock(),o.createElementBlock("div",Eu,[o.createElementVNode("div",{class:"fw-wheel",style:o.normalizeStyle(o.unref(f)),onTransitionend:d[0]||(d[0]=(...v)=>o.unref(l)&&o.unref(l)(...v)),"on:webkitTransitionend":d[1]||(d[1]=(...v)=>o.unref(l)&&o.unref(l)(...v))},[e.type==="canvas"?(o.openBlock(),o.createElementBlock("canvas",{key:0,ref_key:"wheelEl",ref:i,width:o.unref(n).radius*2,height:o.unref(n).radius*2},null,8,Mu)):o.renderSlot(u.$slots,"wheel",{key:1},void 0,!0)],36),o.createElementVNode("div",xu,[e.type==="canvas"?(o.openBlock(),o.createElementBlock("div",{key:0,class:"fw-btn__btn",style:o.normalizeStyle({width:o.unref(n).btnWidth+"px",height:o.unref(n).btnWidth+"px"}),onClick:d[2]||(d[2]=(...v)=>o.unref(s)&&o.unref(s)(...v))},o.toDisplayString(o.unref(n).btnText),5)):(o.openBlock(),o.createElementBlock("div",{key:1,class:"fw-btn__image",onClick:d[3]||(d[3]=(...v)=>o.unref(s)&&o.unref(s)(...v))},[o.renderSlot(u.$slots,"button",{},void 0,!0)]))])]))}}),[["__scopeId","data-v-ee35722b"]]),Du={install:e=>{e.component("SpinTheWheel",dt)}};C.SpinTheWheel=dt,C.default=Du,Object.defineProperties(C,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
